{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/awesome-images/","result":{"data":{"site":{"siteMetadata":{"title":"Michael Nguyen | Web Developer","author":"Michael Nguyen"}},"markdownRemark":{"id":"57e6546a-67ca-5698-9912-69528f2717d3","excerpt":"Netlify CMS Media Configuration First, in your static/admin/config.yml, make sure you have the following: Docs: https://www.netlifycms.org/docs/configuration…","html":"<p class=\"content\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6c1a93241f67bc21b959b4c04a4dcccf/b7655/mn-icon.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAB5UlEQVQ4y+WUv0tcQRDH7wU1rRj8QRp/RqKIXpMuWOQPsJBYScTK/ACDnUThPbHxnVoIQSUIYt4KCrkQQg45uARyFkkaEVG0EtsUCoKN2uhn9+a88dDK0gcfZnZ29ruze3Mbi92/L4x8i5cnYQIXkzlPUZx74/obN9D2tk9vXCxglRugHiqLRMuhDp7AA3gErVCt1ldAEzRCbSz87EqegRPYtQkq+Secwmoi8kuxcfgjsReS0w47cAAvdaXfp1fGL7CdbmxcZf8Txt+HMsgdNQr65n9M27x/5JTkju8vMU4W7iPyH0KSYAYC2aAf1ohnoUrlDhL/C+sIjohgZE+hq6uCLAnvrIjE5uADpOGZyh0KTbCO7YBDEfyE/0X9Yu5S9xBsxv62ly73F6eiDHQVBINB8rflWlbImWI8if2qj/yc4IFUkHRVRH5KOuAX86+V4Hsq3JLcGthi7R52UQv22gpl17f4xzAri1LMT6jcAQQ21BW8WUjPXOTzbeAVIkeTy2M2OGr77OO30Prd0ANnzNs2GZZ+3GR8Hl67Bn8bTP4ItRyhHVrwn7oGNq7RS11Tm6DNkWveavy4jOuuBI1r7sd3fgfk7+cVhANXoYdjq/Kcb//s5uoxkLlAPxC5mBa67WG4H98l8oWD2K5WAAkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Great Gatsby\"\n        title=\"Great Gatsby\"\n        src=\"/static/6c1a93241f67bc21b959b4c04a4dcccf/b7655/mn-icon.png\"\n        srcset=\"/static/6c1a93241f67bc21b959b4c04a4dcccf/cf3f8/mn-icon.png 163w,\n/static/6c1a93241f67bc21b959b4c04a4dcccf/bb21a/mn-icon.png 325w,\n/static/6c1a93241f67bc21b959b4c04a4dcccf/b7655/mn-icon.png 512w\"\n        sizes=\"(max-width: 512px) 100vw, 512px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2 class=\"title is-2\">Netlify CMS Media Configuration</h2>\n<p class=\"content\">First, in your <code>static/admin/config.yml</code>, make sure you have the following:</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\">media_folder: content/assets</span>\n<span class=\"grvsc-line\">public_folder: ../assets</span></code></pre>\n<p class=\"content\">Docs: <a href=\"https://www.netlifycms.org/docs/configuration-options/#media-and-public-folders\">https://www.netlifycms.org/docs/configuration-options/#media-and-public-folders</a>.</p>\n<h2 class=\"title is-2\">Gatsby Plugins</h2>\n<p class=\"content\">From <a href=\"https://github.com/cwgw\">@cwgw</a>:</p>\n<p class=\"content\">So digging a little deeper, it looks like Gatsby only looks for “subplugins” at one specific path, <code>options.plugins</code>.</p>\n<p class=\"content\"><code>gatsby-plugin-mdx</code> uses <code>options.gatsbyRemarkPlugins</code>. This is fine for transforming markdown as the plugin handles that itself, but Gatsby-specific api files like <code>gatsby-browser.js</code> don’t get loaded because Gatsby doesn’t know they exist.</p>\n<p class=\"content\">If you try this…</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"javascript\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"mtk1\">{</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  resolve: </span><span class=\"mtk8\">&#39;gatsby-plugin-mdx&#39;</span><span class=\"mtk1\">,</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  options: {</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    gatsbyRemarkPlugins: [ </span><span class=\"mtk8\">`gatsby-remark-images`</span><span class=\"mtk1\"> ],</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">    plugins: [ </span><span class=\"mtk8\">`gatsby-remark-images`</span><span class=\"mtk1\"> ],</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">  }</span></span>\n<span class=\"grvsc-line\"><span class=\"mtk1\">},</span></span></code></pre>\n<p class=\"content\">…everything works as it should.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n  }\n  \n  .grvsc-code {\n    display: inline-block;\n    min-width: 100%;\n  }\n  \n  .grvsc-line {\n    display: inline-block;\n    box-sizing: border-box;\n    width: 100%;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-line-highlighted {\n    background-color: var(--grvsc-line-highlighted-background-color, transparent);\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, transparent);\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk8 { color: #CE9178; }\n</style>","frontmatter":{"title":"Awesome Images","date":"June 06, 2020","description":"Fix for gatsby-plugin-mdx and gatsby-remark-images","tags":["picture","images","discovery"],"ogImage":null}}},"pageContext":{"slug":"/awesome-images/","previous":{"fields":{"slug":"/example/"},"frontmatter":{"title":"MDX!","pageKey":"blog-post","tags":["ducks","images","mdx"]}},"next":null}},"staticQueryHashes":["63159454"]}